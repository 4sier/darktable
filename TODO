flip -> history stack

colorlabels -> cached in image_t
. xmp_read to use cached values, too!
. colorlabels.c doesn't sync xmp anymore!

cleanup messy non-thread-safe dt_dev_get_processed_size() behavior

check dirty bit in dt_image_write_sidecar_file
. and in all its uses. history.c?
